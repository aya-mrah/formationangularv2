<h3>Create Session</h3>
<div [hidden]="submitted" style="width: 700px;">
  <form (ngSubmit)="onSubmit()">

    <div class="form-group">
      <label for="date_deb">Date debut</label>
      <input type="date" class="form-control" id="date_deb" required [(ngModel)]="session.date_deb" name="date_deb">
    </div>
    <div class="form-group">
      <label for="date_fin">Date fin</label>
      <input type="date" class="form-control" id="date_fin" required [(ngModel)]="session.date_fin" name="date_fin">
    </div>
    <div class="form-group">
      <label for="nbparticipant">Nombre participants</label>
      <input type="number" class="form-control" id="nbparticipant" required [(ngModel)]="session.nbparticipant" name="nbparticipant">
    </div>
    <div class="form-group">
      <label for="lieu">Lieu</label>
      <input type="text" class="form-control" id="lieu" required [(ngModel)]="session.lieu" name="lieu">
    </div>
    <div class="form-group">
      <label>Formation</label>
      <select name="select" [(ngModel)]="session.formation"  (ngModelChange)="setNewFormation($event)" class="browser-default custom-select">
        <option [ngValue]="undefined">Sélectionner une formation</option>
        <option *ngFor="let formation of formations"  [ngValue]="formation" >  {{formation.titre}} </option>
      </select>
    </div>
    <div class="form-group">
      <label>Organisme</label>
      <select name="select" [(ngModel)]="session.organisme"  (ngModelChange)="setNewOrganisme($event)" class="browser-default custom-select">
        <option [ngValue]="undefined">Sélectionner un organisme</option>
        <option *ngFor="let organisme of organismes"  [ngValue]="organisme" >  {{organisme.libelle}} </option>
      </select>
    </div>

    <div class="form-group">
      <label>Formateur</label>
      <select name="select" [(ngModel)]="session.formateur"  (ngModelChange)="setNewFormateur($event)" class="browser-default custom-select">
        <option [ngValue]="undefined">Sélectionner un formateur</option>
        <option *ngFor="let formateur of formateurs"  [ngValue]="formateur" >  {{formateur.nom}} {{formateur.prenom}} </option>
      </select>
    </div>
    <div>

     <!----AutoComplete -->
      <mat-form-field class="example-chip-list" >
        <mat-label>Saisie participant</mat-label>
        <!--List Autocomplete de participant-->
        <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)" >
          <mat-option *ngFor="let participant of filteredParticipants | async" [value]="participant">
            {{participant.mail}}
          </mat-option>
        </mat-autocomplete>
        <!-- Les chips des participant selected-->
        <mat-chip-list #chipList aria-label="Participant selection"  >
          <mat-chip
            *ngFor="let participant of participants"
            [selectable]="selectable"
            [removable]="removable"
            (removed)="remove(participant)">
            {{participant.mail}}
            <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
          </mat-chip>
          <!--Input de saisie de participant -->
          <input
          placeholder="New Participants..."
            #participantInput
            [matAutocomplete]="auto"
            [matChipInputFor]="chipList"
            [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
            (matChipInputTokenEnd)="add($event)">
        </mat-chip-list>

      </mat-form-field>

    </div>


    <button type="submit" class="btn btn-success">Submit</button>
  </form>
</div>

<div [hidden]="!submitted">
  <h4>You submitted successfully!</h4>
  <!-- <button class="btn btn-success" (click)="newEmployee()">Add</button> -->
</div>
